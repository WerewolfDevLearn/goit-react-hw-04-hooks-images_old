(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),o=a.n(c),r=a(21),i=a.n(r),s=a(12),l=a(4);var u=function(e){var t=e.onSubmitForm,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],i=o[1];return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{id:"form",onSubmit:function(e){e.preventDefault(),t(r),i("")},className:"SearchForm",children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"inputValue",value:r,id:"input",onChange:function(e){var t=e.target.value;i(t)}})]})})};var j=function(e){var t=e.webformatURL,a=e.alt,c=e.largeImageURL,o=e.id,r=e.onImageClick;return Object(n.jsx)("img",{src:t,alt:a,className:"ImageGalleryItem-image","data-largeimageurl":c,"data-id":o,onClick:function(e){r({url:e.target.dataset.largeimageurl,alt:e.target.alt})}})};var b=function(e){var t=e.images,a=e.onImageClick;return Object(n.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)(j,{webformatURL:e.webformatURL,alt:e.tags,largeImageURL:e.largeImageURL,id:e.id,onImageClick:a})},e.id)}))})};var m=function(e){var t=e.text,a=e.buttonAction;return Object(n.jsx)("div",{className:"buttonContainer",children:Object(n.jsx)("button",{type:"button",onClick:a,className:"Button",children:t})})},d=a(7),h=a(8),O=a(10),g=a(9),f=a(22),p=a.n(f),v=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"loaderContainer",children:Object(n.jsx)(p.a,{type:"Puff",color:"#0F7A8F",height:50,width:50,timeout:3e3})})}}]),a}(c.Component),x=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).pressEscBtn=function(t){console.log(t),"Escape"===t.code&&e.props.onCloseModal()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.pressEscBtn)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.pressEscBtn),this.props.onCloseModal()}},{key:"render",value:function(){var e=this.props,t=e.onCloseModal,a=e.children;return Object(n.jsx)("div",{className:"Overlay",onClick:t,children:Object(n.jsx)("div",{className:"Modal",children:a})})}}]),a}(c.Component),y=a(2),S=a.n(y);function k(e){var t=e.largeImage,a=t.alt,c=t.url;return Object(n.jsx)("img",{src:c,alt:a,width:"600"})}k.protoType={largeImage:S.a.exact({alt:S.a.string.isRequired,url:S.a.string.isRequired}).isRequired};var w=k,C=a(23),I=a.n(C),N=function(e,t){return I.a.get("https://pixabay.com/api/?key=".concat("17822127-e9a9a0a140ac0dca1ff979a25","&q=").concat(e,"&image_type=photo&page=").concat(t,"&per_page=12")).then((function(e){return console.log(e.data),e.data}))};var R=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),j=i[0],d=i[1],h=Object(c.useState)(1),O=Object(l.a)(h,2),g=O[0],f=O[1],p=Object(c.useState)(null),y=Object(l.a)(p,2),S=y[0],k=y[1],C=Object(c.useState)(null),I=Object(l.a)(C,2),R=I[0],E=I[1],F=Object(c.useState)(!1),L=Object(l.a)(F,2),M=L[0],U=L[1],B=Object(c.useState)(!1),q=Object(l.a)(B,2),A=q[0],G=q[1];function D(){U(!0),N(j,g).then((function(e){o((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),f((function(e){return e+1})),H(e),console.log(e)})).catch((function(e){return E(e)})).finally((function(){return U(!1)}))}Object(c.useEffect)((function(){j&&D()}),[j]),Object(c.useEffect)((function(){g>2&&J()}),[g]);var H=function(e){e.totalHits-12*g<=0&&G(!0)},J=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{onSubmitForm:function(e){d(e),f(1),o([]),U(!1)}}),a.length>0&&Object(n.jsx)(b,{images:a,onImageClick:k}),S&&Object(n.jsx)(x,{onCloseModal:function(){k(null)},children:Object(n.jsx)(w,{largeImage:S})}),a.length>0&&!A&&!M&&Object(n.jsx)(m,{text:"Load more",buttonAction:D}),M&&Object(n.jsx)(v,{}),R&&Object(n.jsx)("p",{children:"ERROR"})]})};a(68),a(69);i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(R,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c82c5b7b.chunk.js.map